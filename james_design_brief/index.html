<!DOCTYPE html>
<html>
    <head>
        <title>Design Brief</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>
        <script src="../js/materialize.js"></script>
        <script src="../js/materialize.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Lato:300" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Lato:100" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Permanent+Marker" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css">
        <link rel="stylesheet" href="../css/materialize.css">
        <link rel="stylesheet" href="../css/materialize.min.css" media="screen,projection"/>
        <link href="styles.css" type="text/css" rel="stylesheet">
        <link rel="stylesheet" href="animate.min.css">
    </head>
    <body>
        <!-- Full screen sections -->
        <div id="section1" class="fullScreenSection">
            <div class="clippingBox">
                <div class="backgroundMask"></div>
                <img src="iphone_vector.svg" class="iphone" draggable="false">
                <div class="sharpieText">Drag around phone<br>to experience in<br>Augmented Reality.
                    <img src="sharpie_text_arrow.png" draggable="false">
                </div>
            </div>
        </div>
        <div id="section2" class="fullScreenSection">
            <img class="mountainImage" id="mtn1" src="mountain_images/mountains1.png">
            <img class="mountainImage" id="mtn2" src="mountain_images/mountains2.png">
            <img class="mountainImage" id="mtn3" src="mountain_images/mountains3.png">
            <img class="mountainImage" id="mtn4" src="mountain_images/mountains4.png">
            <img class="mountainImage" id="mtn5" src="mountain_images/mountains5.png">
            <img class="mountainImage" id="mtn6" src="mountain_images/mountains6.png">
        </div>
        <div id="section3" class="fullScreenSection">
            <div class="leftContainer">
                <img src="iphone_vector_vertical.svg" class="iphone" draggable="false">
                <img src="face_mesh.svg" class="faceMesh" draggable="false">
            </div>
            <div class="rightContainer">
                <div class="content">
                    <span class="title">Snapchat Lense Filters</span>
                    <div class="subtitleLine"></div>
                    <div class="subtitle animated" id="snapchatSubtitle1">Augmented Reality?</div>
                    <div class="subtitle animated noOpacity" id="snapchatSubtitle2">More Than Just A Picture</div>
                    <div class="subtitle animated noOpacity" id="snapchatSubtitle3">Adding the Effect</div>
                    <div class="subtitle animated noOpacity" id="snapchatSubtitle4">Key to Success</div>
                    <div class="buttonContainer">
                        <div class="circle"></div>
                        <div data-section-number="1" class="numberButton"></div>
                        <div data-section-number="2" class="numberButton"></div>
                        <div data-section-number="3" class="numberButton"></div>
                        <div data-section-number="4" class="numberButton"></div>
                    </div>
                    <div id="snapchatText1" class="text animated">
                        Snapchat is a photo-sharing application that was first launched in September 2011. It enables users to take and send photos and short videos that automatically delete after a set amount of time. Beginning in September 2015, Snapchat incorporated augmented reality into the experience through a feature called Lense Filters.
                    </div>
                    <div id="snapchatText2" class="text animated hidden">
                        Why use Snapchat instead of taking a picture with your phone's generic camera app and sending it via text? Snapchat Lense Filters add real-time special effects to images and have rapidly grown in popularity since their addition. Specific examples include the illusion of the user living under the sea, possessing kitchy anime eyes, crying or drooling, and having a dog's rolling tongue once the user opens his or her mouth.
                    </div>
                    <div id="snapchatText3" class="text animated hidden">
                        Snapchat's unique face-tracking algorithm is the sole reason to their advanced AR attributes. In order to properly use Snapchat Lense Filters, the user must first point his or her face directly towards the camera and hold his or her finger down on the screen to trigger the filters. At that point, the app traces an intricate outline of the user's face in order to superimpose a variety of unique filters, which the user can then select from.
                    </div>
                    <div id="snapchatText4" class="text animated hidden">
                        These Lense Filters are just one of the many reasons why Snapchat is constantly evolving and growing in popularity among the masses. In addition to geotags and on-demand filters (i.e. current time and temperature), since these lenses are constantly being updated with brand-new and creative options, users incessantly flock to the app to see all the ways they can transform their faces.
                    </div>
                </div>
            </div>
        </div>
        <div id="section4" class="fullScreenSection">
            <div class="leftContainer">
                <img src="iphone_vector_vertical.svg" class="iphone" draggable="false">
                <img src="face_mesh.svg" class="faceMesh" draggable="false">
            </div>
            <div class="rightContainer">
                <div class="content">
                    <span class="title">Google Glass</span>
                    <div class="subtitleLine"></div>
                    <div class="subtitle animated" id="googleSubtitle1">Heading 1</div>
                    <div class="subtitle animated noOpacity" id="googleSubtitle2">Heading 2</div>
                    <div class="subtitle animated noOpacity" id="googleSubtitle3">Heading 3</div>
                    <div class="subtitle animated noOpacity" id="googleSubtitle4">Heading 4</div>
                    <div class="buttonContainer">
                        <div class="circle"></div>
                        <div data-section-number="1" class="numberButton"></div>
                        <div data-section-number="2" class="numberButton"></div>
                        <div data-section-number="3" class="numberButton"></div>
                        <div data-section-number="4" class="numberButton"></div>
                    </div>
                    <div id="googleText1" class="text animated">
                        Snapchat is a photo-sharing application that was first launched in September 2011. It enables users to take and send photos and short videos that automatically delete after a set amount of time. Beginning in September 2015, Snapchat incorporated augmented reality into the experience through a feature called Lense Filters.
                    </div>
                    <div id="googleText2" class="text animated hidden">
                        Why use Snapchat instead of taking a picture with your phone's generic camera app and sending it via text? Snapchat Lense Filters add real-time special effects to images and have rapidly grown in popularity since their addition. Specific examples include the illusion of the user living under the sea, possessing kitchy anime eyes, crying or drooling, and having a dog's rolling tongue once the user opens his or her mouth.
                    </div>
                    <div id="googleText3" class="text animated hidden">
                        Snapchat's unique face-tracking algorithm is the sole reason to their advanced AR attributes. In order to properly use Snapchat Lense Filters, the user must first point his or her face directly towards the camera and hold his or her finger down on the screen to trigger the filters. At that point, the app traces an intricate outline of the user's face in order to superimpose a variety of unique filters, which the user can then select from.
                    </div>
                    <div id="googleText4" class="text animated hidden">
                        These Lense Filters are just one of the many reasons why Snapchat is constantly evolving and growing in popularity among the masses. In addition to geotags and on-demand filters (i.e. current time and temperature), since these lenses are constantly being updated with brand-new and creative options, users incessantly flock to the app to see all the ways they can transform their faces.
                    </div>
                </div>
            </div>
        </div>
        <div id="section5" class="fullScreenSection">
            <div class="centerCircle valign-wrapper"><p>Other Uses</p></div>
        </div>
        <div id="section6" class="fullScreenSection">
        </div>
        
        <!-- Dot navigation bar on right side -->
        <ol id="sectionNav">
            <li>
                <div data-section-number="1" id="dot1" class="dot">
                    <div class="inner active"></div>
                    <div class="label">Augmented Reality</div>
                </div>
            </li>
            <li>
                <div data-section-number="2" id="dot2" class="dot">
                    <div class="inner"></div>
                    <div class="label">HUDs</div>
                </div>
            </li>
            <li>
                <div data-section-number="3" id="dot3" class="dot">
                    <div class="inner"></div>
                    <div class="label">Snapchat Lenses</div>
                </div>
            </li>
            <li>
                <div data-section-number="4" id="dot4" class="dot">
                    <div class="inner"></div>
                    <div class="label">Google Glass</div>
                </div>
            </li>
            <li>
                <div data-section-number="5" id="dot5" class="dot">
                    <div class="inner"></div>
                    <div class="label">Other Uses</div>
                </div>
            </li>
            <li>
                <div data-section-number="6" id="dot6" class="dot">
                    <div class="inner"></div>
                    <div class="label">Safety Concerns</div>
                </div>
            </li>
        </ol>
        
        <!-- Animated scroll down arrow -->
        <div id="scrollDownCaret" class="visible">
            <img src="scroll_down_caret.png" width="30" height="17">
        </div>
        
        <div class="fixed-action-btn horizontal click-to-toggle" style="bottom: 45px; right: 24px;">
            <a class="btn-floating btn-large blue">
                <i class="material-icons">menu</i>
            </a>
            <ul>
                <li><a class="btn-floating blue tooltipped" data-position="top" data-delay="50" data-tooltip="CTE" href="CTE.htm"><i class="material-icons">person_pin</i></a></li>
                <li><a class="btn-floating green darken-1 tooltipped" data-position="top" data-delay="50" data-tooltip="TSA" href="TSA3.htm"><i class="material-icons">code</i></a></li>
                <li><a class="btn-floating yellow tooltipped" data-position="top" data-delay="50" data-tooltip="AR" href="Prompt.htm"><i class="material-icons">games</i></a></li>
                <li><a class="btn-floating red tooltipped" data-position="top" data-delay="50" data-tooltip="About Us" href="About_Us.htm"><i class="material-icons">http</i></a></li>
            </ul>
        </div>
        
        <script type="text/javascript">
            $.fn.extend({
                animateCss: function (animationName) {
                    $(this).removeClass('noOpacity');
                    var animationEnd = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend';
                    this.addClass('animated ' + animationName).one(animationEnd, function() {
                        $(this).removeClass('animated ' + animationName);
                    });
                }
            });
            
            // @media listeners
            var largeScreenStateChange = window.matchMedia("(min-width: 1400px)");
            var tinyScreenStateChange = window.matchMedia("(max-width: 700px)");
            largeScreenStateChange.addListener(updateiPhoneMaskPosition);
            tinyScreenStateChange.addListener(updateiPhoneMaskPosition);
            
            updateSectionScrollPositions();
            $(window).on("resize", updateSectionScrollPositions);
            function updateSectionScrollPositions() {
                var heightOffset = $(window).height() / 2;
                scroll1 = heightOffset;
                scroll2 = $("#section2").offset().top + heightOffset;
                scroll3 = $("#section3").offset().top + heightOffset;
                scroll4 = $("#section4").offset().top + heightOffset;
                scroll5 = $("#section5").offset().top + heightOffset;
                scroll6 = $("#section6").offset().top + heightOffset;
            }
            
            $(window).on("scroll", function() {
                var currentScroll = $(window).scrollTop();
                
                // Scroll caret
                if (currentScroll > 50) {
                    $("#scrollDownCaret").fadeOut();
                } else {
                    $("#scrollDownCaret").fadeIn();
                }
                
                // Mountains
                if (currentScroll > 0 && currentScroll < $("#section3").offset().top) {
                    $("#mtn1").css("top", 0.2*currentScroll + "px");
                    $("#mtn2").css("top", 0.3*currentScroll + "px");
                    $("#mtn3").css("top", 0.4*currentScroll + "px");
                    $("#mtn4").css("top", 0.5*currentScroll + "px");
                    $("#mtn5").css("top", 0.6*currentScroll + "px");
                    $("#mtn6").css("top", 0.7*currentScroll + "px");
                }
                
                // Navigation dots
                if (currentScroll < scroll1) {
                    // Section1
                    $("#sectionNav li .dot .inner").removeClass("active");
                    $("#sectionNav li #dot1 .inner").addClass("active");
                } else if (currentScroll > scroll1 && currentScroll < scroll2) {
                    // Section2
                    $("#sectionNav li .dot .inner").removeClass("active");
                    $("#sectionNav li #dot2 .inner").addClass("active");
                } else if (currentScroll > scroll2 && currentScroll < scroll3) {
                    // Section3
                    $("#sectionNav li .dot .inner").removeClass("active");
                    $("#sectionNav li #dot3 .inner").addClass("active");
                } else if (currentScroll > scroll3 && currentScroll < scroll4) {
                    // Section4
                    $("#sectionNav li .dot .inner").removeClass("active");
                    $("#sectionNav li #dot4 .inner").addClass("active");
                } else if (currentScroll > scroll4 && currentScroll < scroll5) {
                    // Section5
                    $("#sectionNav li .dot .inner").removeClass("active");
                    $("#sectionNav li #dot5 .inner").addClass("active");
                } else if (currentScroll > scroll5 && currentScroll < scroll6) {
                    // Section6
                    $("#sectionNav li .dot .inner").removeClass("active");
                    $("#sectionNav li #dot6 .inner").addClass("active");
                }
            });
            
            // Caret scroll-down functionality
            $("#scrollDownCaret").on("click", function() {
                $("html, body").animate({
                    scrollTop: ($("#section2").offset().top)
                },500,"swing");
            })
             
            // Section navigation dots scrolling functionality
            $("#sectionNav li .dot").on("click", function() {
                $("html, body").animate({
                    scrollTop: ($("#section" + this.getAttribute("data-section-number")).offset().top)
                },500,"swing");
                $("#sectionNav li .dot .inner").removeClass("active");
                $(this).children(".inner").addClass("active");
            })
            
            // Draggable iPhone
            function moveWithMouse(e) {
                // Every time mouse moves, update position of iPhone
                $("#section1 .iphone").css("left", (e.clientX/$(window).width())*100 + offsetX + "vw");
                $("#section1 .iphone").css("bottom", (($(window).height()-e.clientY)/$(window).height())*100 + offsetY + "vh");
                updateiPhoneMaskPosition()
            }
            $("#section1 .iphone").on("mousedown", function(e) {
                document.addEventListener("mousemove", moveWithMouse);
                // Calculate offset of mouse click in relation to iPhone, as a percent
                offsetX = (parseInt($("#section1 .iphone").css("left")) - e.clientX)*100 / $(window).width();
                offsetY = (parseInt($("#section1 .iphone").css("bottom")) - ($(window).height()-e.clientY))*100 / $(window).height();
                $("#section1 .sharpieText").fadeOut();
                $("#sectionNav").fadeOut();
                $("#scrollDownCaret").fadeOut();
            })
            $("#section1 .iphone").on("mouseup", function() {
                document.removeEventListener("mousemove", moveWithMouse);
                $("#sectionNav").fadeIn();
                $("#scrollDownCaret").fadeIn();
            });
            $("#section1").mouseleave(function() {
                document.removeEventListener("mousemove", moveWithMouse);
                $("#sectionNav").fadeIn();
                if ($(window).scrollTop() < 40) {
                    $("#scrollDownCaret").fadeIn();
                }
            });
            function updateiPhoneMaskPosition() {
                var left = (parseInt($("#section1 .iphone").css("left")) / $(window).width()) * 100;
                var bottom = (parseInt($("#section1 .iphone").css("bottom")) / $(window).height()) * 100;
                if (window.matchMedia("(max-width: 700px)").matches) {
                    // Tiny screen
                    document.getElementsByClassName("backgroundMask")[0].style.webkitClipPath = 
                        "polygon(" + (left + 2) + "% calc(" + (101 - bottom) + "% - 41.3vw), \
                        "+ (left + 82) + "% calc(" + (101 - bottom) + "% - 41.3vw), \
                        "+ (left + 82) + "% " + (99 - bottom) + "%, \
                        " + (left + 2) + "% " + (99 - bottom) + "%)"
                } else if (window.matchMedia("(min-width: 1400px)").matches) {
                    // Large screen
                    document.getElementsByClassName("backgroundMask")[0].style.webkitClipPath = 
                        "polygon(" + (left + 2) + "% calc(" + (101 - bottom) + "% - 19.7vw), \
                        "+ (left + 38) + "% calc(" + (101 - bottom) + "% - 19.7vw), \
                        "+ (left + 38) + "% " + (99 - bottom) + "%, \
                        " + (left + 2) + "% " + (99 - bottom) + "%)"
                } else {
                    // Normal-sized screen
                    document.getElementsByClassName("backgroundMask")[0].style.webkitClipPath = 
                        "polygon(" + (left + 5) + "% calc(" + (101 - bottom) + "% - 24.6vw), \
                        "+ (left + 45) + "% calc(" + (101 - bottom) + "% - 24.6vw), \
                        "+ (left + 45) + "% " + (99 - bottom) + "%, \
                        " + (left + 5) + "% " + (99 - bottom) + "%)"
                }
            }
            
            // Snapchat number buttons and text fading in/out
            currentSnapchatSection = 1;
            var leftValues = [-1, 28.5, 58, 87.5];
            $("#section3 .rightContainer .numberButton").on("click touch", function() {
                var sectionNumber = this.getAttribute("data-section-number")
                $("#section3 .rightContainer .circle").animate({
                    left: leftValues[sectionNumber - 1] + "%"
                },400,"swing");
                if (sectionNumber - currentSnapchatSection > 0) {
                    $("#snapchatSubtitle" + currentSnapchatSection).animateCss("fadeOutLeft");
                    $("#snapchatSubtitle" + currentSnapchatSection).addClass("noOpacity");
                    $("#snapchatSubtitle" + sectionNumber).animateCss("fadeInRight");
                    $("#snapchatText" + currentSnapchatSection).fadeOut();
                    $("#snapchatText" + sectionNumber).fadeIn();
                } else if (sectionNumber - currentSnapchatSection < 0) {
                    $("#snapchatSubtitle" + currentSnapchatSection).animateCss("fadeOutRight");
                    $("#snapchatSubtitle" + currentSnapchatSection).addClass("noOpacity");
                    $("#snapchatSubtitle" + sectionNumber).animateCss("fadeInLeft");
                    $("#snapchatText" + currentSnapchatSection).fadeOut();
                    $("#snapchatText" + sectionNumber).fadeIn();
                }
                currentSnapchatSection = sectionNumber;
            });
            
            // Google number buttons and text fading in/out
            currentGoogleSection = 1;
            $("#section4 .rightContainer .numberButton").on("click touch", function() {
                var sectionNumber = this.getAttribute("data-section-number")
                $("#section4 .rightContainer .circle").animate({
                    left: leftValues[sectionNumber - 1] + "%"
                },400,"swing");
                if (sectionNumber - currentGoogleSection > 0) {
                    $("#googleSubtitle" + currentGoogleSection).animateCss("fadeOutLeft");
                    $("#googleSubtitle" + currentGoogleSection).addClass("noOpacity");
                    $("#googleSubtitle" + sectionNumber).animateCss("fadeInRight");
                    $("#googleText" + currentGoogleSection).fadeOut();
                    $("#googleText" + sectionNumber).fadeIn();
                } else if (sectionNumber - currentGoogleSection < 0) {
                    $("#googleSubtitle" + currentGoogleSection).animateCss("fadeOutRight");
                    $("#googleSubtitle" + currentGoogleSection).addClass("noOpacity");
                    $("#googleSubtitle" + sectionNumber).animateCss("fadeInLeft");
                    $("#googleText" + currentGoogleSection).fadeOut();
                    $("#googleText" + sectionNumber).fadeIn();
                }
                currentGoogleSection = sectionNumber;
            });
        </script>
    </body>
</html>